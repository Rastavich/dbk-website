import{S as a,i as s,s as t,F as o,k as e,n as r,g as i,v as n,P as c,e as l,t as d,a as u,c as m,d as p,f,h,j as v,l as x,O as w,m as g,Q as E,u as k}from"../../chunks/vendor-e8dbe5d3.js";import{s as y}from"../../chunks/stores-e5507ca1.js";import{r as b}from"../../chunks/singletons-6b53f818.js";import{p as I}from"../../chunks/utils-cf215c6e.js";const L=async function(a,s){return b.goto(a,s,[])};function D(a){let s,t,o,r,n,c,y,b,I,L,D,V,P,j,N,T,O,B,S,U,A,F,C;return{c(){s=l("section"),t=l("div"),o=l("div"),r=l("form"),n=l("div"),c=l("div"),y=l("label"),b=d("Email *"),I=u(),L=l("input"),D=u(),V=l("div"),P=l("div"),j=l("label"),N=d("Password *"),T=u(),O=l("input"),B=u(),S=l("div"),U=l("button"),A=d("Login"),this.h()},l(a){s=m(a,"SECTION",{});var e=p(s);t=m(e,"DIV",{class:!0});var l=p(t);o=m(l,"DIV",{class:!0});var d=p(o);r=m(d,"FORM",{method:!0});var u=p(r);n=m(u,"DIV",{class:!0});var v=p(n);c=m(v,"DIV",{class:!0,"data-children-count":!0});var x=p(c);y=m(x,"LABEL",{for:!0,class:!0});var w=p(y);b=f(w,"Email *"),w.forEach(i),I=h(x),L=m(x,"INPUT",{type:!0,id:!0,name:!0,"data-kwimpalastatus":!0,"data-kwimpalaid":!0}),x.forEach(i),v.forEach(i),D=h(u),V=m(u,"DIV",{class:!0});var g=p(V);P=m(g,"DIV",{class:!0,"data-children-count":!0});var E=p(P);j=m(E,"LABEL",{for:!0,class:!0});var k=p(j);N=f(k,"Password *"),k.forEach(i),T=h(E),O=m(E,"INPUT",{type:!0,id:!0,name:!0,"data-kwimpalastatus":!0,"data-kwimpalaid":!0}),E.forEach(i),B=h(g),S=m(g,"DIV",{class:!0});var F=p(S);U=m(F,"BUTTON",{type:!0,class:!0});var C=p(U);A=f(C,"Login"),C.forEach(i),F.forEach(i),g.forEach(i),u.forEach(i),d.forEach(i),l.forEach(i),e.forEach(i),this.h()},h(){v(y,"for","email"),v(y,"class","leading-7 text-sm text-gray-50"),v(L,"type","text"),v(L,"id","email"),v(L,"name","email"),v(L,"data-kwimpalastatus","alive"),v(L,"data-kwimpalaid","1610104456246-6"),v(c,"class","container mx-auto max-w-xs"),v(c,"data-children-count","1"),v(n,"class","p-2"),v(j,"for","password"),v(j,"class","leading-7 text-sm text-gray-50"),v(O,"type","password"),v(O,"id","password"),v(O,"name","password"),v(O,"data-kwimpalastatus","alive"),v(O,"data-kwimpalaid","1610104456246-7"),v(P,"class","container mx-auto max-w-xs"),v(P,"data-children-count","1"),v(U,"type","submit"),v(U,"class","flex mx-auto text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"),v(S,"class","p-2 w-full"),v(V,"class","p-2"),v(r,"method","post"),v(o,"class","flex flex-col text-center w-full mb-12"),v(t,"class","container px-5 py-5 mx-auto")},m(i,l){e(i,s,l),x(s,t),x(t,o),x(o,r),x(r,n),x(n,c),x(c,y),x(y,b),x(c,I),x(c,L),w(L,a[0]),x(r,D),x(r,V),x(V,P),x(P,j),x(j,N),x(P,T),x(P,O),w(O,a[1]),x(V,B),x(V,S),x(S,U),x(U,A),F||(C=[g(L,"input",a[4]),g(O,"input",a[5]),g(r,"submit",E(a[3]))],F=!0)},p(a,s){1&s&&L.value!==a[0]&&w(L,a[0]),2&s&&O.value!==a[1]&&w(O,a[1])},d(a){a&&i(s),F=!1,k(C)}}}function V(a){let s,t;return{c(){s=l("p"),t=d("Loading...")},l(a){s=m(a,"P",{});var o=p(s);t=f(o,"Loading..."),o.forEach(i)},m(a,o){e(a,s,o),x(s,t)},p:r,d(a){a&&i(s)}}}function P(a){let s;function t(a,s){return a[2]?V:D}let n=t(a),c=n(a);return{c(){c.c(),s=o()},l(a){c.l(a),s=o()},m(a,t){c.m(a,t),e(a,s,t)},p(a,[o]){n===(n=t(a))&&c?c.p(a,o):(c.d(1),c=n(a),c&&(c.c(),c.m(s.parentNode,s)))},i:r,o:r,d(a){c.d(a),a&&i(s)}}}async function j({session:a}){return console.log("Sessions:",a),a.user?{status:302,redirect:"/"}:{}}function N(a,s,t){let o;n(a,y,(a=>t(7,o=a)));let e="",r="",i=!1;return[e,r,i,async function(a){t(2,i=!0);const s=await I("auth/login",{email:e,password:r});console.log(s),s.errors,s.user&&(c(y,o.user=s.user,o),L("/dashboard"))},function(){e=this.value,t(0,e)},function(){r=this.value,t(1,r)}]}export default class extends a{constructor(a){super(),s(this,a,N,P,t,{})}}export{j as load};
