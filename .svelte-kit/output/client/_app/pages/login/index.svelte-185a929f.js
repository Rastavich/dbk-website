import{S as a,i as s,s as t,l as r,f as o,G as e,d as i,L as n,P as c,e as l,t as d,k as u,c as m,a as p,g as f,n as h,b as v,F as x,Q as w,J as E,R as b,K as g}from"../../chunks/vendor-bed64379.js";import{s as k}from"../../chunks/stores-6f51bb6a.js";import{r as y}from"../../chunks/singletons-bb9012b7.js";import{p as I}from"../../chunks/utils-cf215c6e.js";const L=async function(a,s){return y.goto(a,s,[])};function D(a){let s,t,r,e,n,c,k,y,I,L,D,V,P,j,N,T,B,O,U,A,F,R,S;return{c(){s=l("section"),t=l("div"),r=l("div"),e=l("form"),n=l("div"),c=l("div"),k=l("label"),y=d("Email *"),I=u(),L=l("input"),D=u(),V=l("div"),P=l("div"),j=l("label"),N=d("Password *"),T=u(),B=l("input"),O=u(),U=l("div"),A=l("button"),F=d("Login"),this.h()},l(a){s=m(a,"SECTION",{});var o=p(s);t=m(o,"DIV",{class:!0});var l=p(t);r=m(l,"DIV",{class:!0});var d=p(r);e=m(d,"FORM",{method:!0});var u=p(e);n=m(u,"DIV",{class:!0});var v=p(n);c=m(v,"DIV",{class:!0,"data-children-count":!0});var x=p(c);k=m(x,"LABEL",{for:!0,class:!0});var w=p(k);y=f(w,"Email *"),w.forEach(i),I=h(x),L=m(x,"INPUT",{type:!0,id:!0,name:!0,"data-kwimpalastatus":!0,"data-kwimpalaid":!0}),x.forEach(i),v.forEach(i),D=h(u),V=m(u,"DIV",{class:!0});var E=p(V);P=m(E,"DIV",{class:!0,"data-children-count":!0});var b=p(P);j=m(b,"LABEL",{for:!0,class:!0});var g=p(j);N=f(g,"Password *"),g.forEach(i),T=h(b),B=m(b,"INPUT",{type:!0,id:!0,name:!0,"data-kwimpalastatus":!0,"data-kwimpalaid":!0}),b.forEach(i),O=h(E),U=m(E,"DIV",{class:!0});var R=p(U);A=m(R,"BUTTON",{type:!0,class:!0});var S=p(A);F=f(S,"Login"),S.forEach(i),R.forEach(i),E.forEach(i),u.forEach(i),d.forEach(i),l.forEach(i),o.forEach(i),this.h()},h(){v(k,"for","email"),v(k,"class","leading-7 text-sm text-gray-50"),v(L,"type","text"),v(L,"id","email"),v(L,"name","email"),v(L,"data-kwimpalastatus","alive"),v(L,"data-kwimpalaid","1610104456246-6"),v(c,"class","container mx-auto max-w-xs"),v(c,"data-children-count","1"),v(n,"class","p-2"),v(j,"for","password"),v(j,"class","leading-7 text-sm text-gray-50"),v(B,"type","password"),v(B,"id","password"),v(B,"name","password"),v(B,"data-kwimpalastatus","alive"),v(B,"data-kwimpalaid","1610104456246-7"),v(P,"class","container mx-auto max-w-xs"),v(P,"data-children-count","1"),v(A,"type","submit"),v(A,"class","flex mx-auto text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"),v(U,"class","p-2 w-full"),v(V,"class","p-2"),v(e,"method","post"),v(r,"class","flex flex-col text-center w-full mb-12"),v(t,"class","container px-5 py-5 mx-auto")},m(i,l){o(i,s,l),x(s,t),x(t,r),x(r,e),x(e,n),x(n,c),x(c,k),x(k,y),x(c,I),x(c,L),w(L,a[0]),x(e,D),x(e,V),x(V,P),x(P,j),x(j,N),x(P,T),x(P,B),w(B,a[1]),x(V,O),x(V,U),x(U,A),x(A,F),R||(S=[E(L,"input",a[4]),E(B,"input",a[5]),E(e,"submit",b(a[3]))],R=!0)},p(a,s){1&s&&L.value!==a[0]&&w(L,a[0]),2&s&&B.value!==a[1]&&w(B,a[1])},d(a){a&&i(s),R=!1,g(S)}}}function V(a){let s,t;return{c(){s=l("p"),t=d("Loading...")},l(a){s=m(a,"P",{});var r=p(s);t=f(r,"Loading..."),r.forEach(i)},m(a,r){o(a,s,r),x(s,t)},p:e,d(a){a&&i(s)}}}function P(a){let s;function t(a,s){return a[2]?V:D}let n=t(a),c=n(a);return{c(){c.c(),s=r()},l(a){c.l(a),s=r()},m(a,t){c.m(a,t),o(a,s,t)},p(a,[r]){n===(n=t(a))&&c?c.p(a,r):(c.d(1),c=n(a),c&&(c.c(),c.m(s.parentNode,s)))},i:e,o:e,d(a){c.d(a),a&&i(s)}}}async function j({session:a}){return a.jwt?{status:302,redirect:"/"}:{}}function N(a,s,t){let r;n(a,k,(a=>t(7,r=a)));let o="",e="",i=!1;return[o,e,i,async function(a){t(2,i=!0);const s=await I("auth/login",{email:o,password:e});s.errors,s.user&&(c(k,r.user=s.user,r),L("/dashboard"))},function(){o=this.value,t(0,o)},function(){e=this.value,t(1,e)}]}export default class extends a{constructor(a){super(),s(this,a,N,P,t,{})}}export{j as load};
