import{S as $,i as tt,s as et,l as Y,f as q,G,d as u,K as at,U as st,e as c,t as N,k as P,c as p,a as f,g as T,n as U,b as e,F as o,V as B,I as J,W as rt,J as ot}from"../../chunks/vendor-d12625f6.js";import{s as Z}from"../../chunks/stores-f4f24851.js";import{r as lt}from"../../chunks/singletons-12a22614.js";import{p as nt}from"../../chunks/utils-8ab506d1.js";const it=lt,ut=dt;async function dt(i,a){return it.goto(i,a,[])}function ct(i){let a,l,r,t,s,n,_,x,I,d,y,b,h,w,O,S,m,A,E,g,C,F,K;return{c(){a=c("section"),l=c("div"),r=c("div"),t=c("form"),s=c("div"),n=c("div"),_=c("label"),x=N("Email *"),I=P(),d=c("input"),y=P(),b=c("div"),h=c("div"),w=c("label"),O=N("Password *"),S=P(),m=c("input"),A=P(),E=c("div"),g=c("button"),C=N("Login"),this.h()},l(v){a=p(v,"SECTION",{});var k=f(a);l=p(k,"DIV",{class:!0});var M=f(l);r=p(M,"DIV",{class:!0});var R=f(r);t=p(R,"FORM",{method:!0});var L=f(t);s=p(L,"DIV",{class:!0});var W=f(s);n=p(W,"DIV",{class:!0,"data-children-count":!0});var V=f(n);_=p(V,"LABEL",{for:!0,class:!0});var z=f(_);x=T(z,"Email *"),z.forEach(u),I=U(V),d=p(V,"INPUT",{type:!0,id:!0,name:!0,"data-kwimpalastatus":!0,"data-kwimpalaid":!0}),V.forEach(u),W.forEach(u),y=U(L),b=p(L,"DIV",{class:!0});var D=f(b);h=p(D,"DIV",{class:!0,"data-children-count":!0});var j=f(h);w=p(j,"LABEL",{for:!0,class:!0});var H=f(w);O=T(H,"Password *"),H.forEach(u),S=U(j),m=p(j,"INPUT",{type:!0,id:!0,name:!0,"data-kwimpalastatus":!0,"data-kwimpalaid":!0}),j.forEach(u),A=U(D),E=p(D,"DIV",{class:!0});var Q=f(E);g=p(Q,"BUTTON",{type:!0,class:!0});var X=f(g);C=T(X,"Login"),X.forEach(u),Q.forEach(u),D.forEach(u),L.forEach(u),R.forEach(u),M.forEach(u),k.forEach(u),this.h()},h(){e(_,"for","email"),e(_,"class","leading-7 text-sm text-gray-50"),e(d,"type","text"),e(d,"id","email"),e(d,"name","email"),e(d,"data-kwimpalastatus","alive"),e(d,"data-kwimpalaid","1610104456246-6"),e(n,"class","container mx-auto max-w-xs"),e(n,"data-children-count","1"),e(s,"class","p-2"),e(w,"for","password"),e(w,"class","leading-7 text-sm text-gray-50"),e(m,"type","password"),e(m,"id","password"),e(m,"name","password"),e(m,"data-kwimpalastatus","alive"),e(m,"data-kwimpalaid","1610104456246-7"),e(h,"class","container mx-auto max-w-xs"),e(h,"data-children-count","1"),e(g,"type","submit"),e(g,"class","flex mx-auto text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"),e(E,"class","p-2 w-full"),e(b,"class","p-2"),e(t,"method","post"),e(r,"class","flex flex-col text-center w-full mb-12"),e(l,"class","container px-5 py-5 mx-auto")},m(v,k){q(v,a,k),o(a,l),o(l,r),o(r,t),o(t,s),o(s,n),o(n,_),o(_,x),o(n,I),o(n,d),B(d,i[0]),o(t,y),o(t,b),o(b,h),o(h,w),o(w,O),o(h,S),o(h,m),B(m,i[1]),o(b,A),o(b,E),o(E,g),o(g,C),F||(K=[J(d,"input",i[4]),J(m,"input",i[5]),J(t,"submit",rt(i[3]))],F=!0)},p(v,k){k&1&&d.value!==v[0]&&B(d,v[0]),k&2&&m.value!==v[1]&&B(m,v[1])},d(v){v&&u(a),F=!1,ot(K)}}}function pt(i){let a,l;return{c(){a=c("p"),l=N("Loading...")},l(r){a=p(r,"P",{});var t=f(a);l=T(t,"Loading..."),t.forEach(u)},m(r,t){q(r,a,t),o(a,l)},p:G,d(r){r&&u(a)}}}function ft(i){let a;function l(s,n){return s[2]?pt:ct}let r=l(i),t=r(i);return{c(){t.c(),a=Y()},l(s){t.l(s),a=Y()},m(s,n){t.m(s,n),q(s,a,n)},p(s,[n]){r===(r=l(s))&&t?t.p(s,n):(t.d(1),t=r(s),t&&(t.c(),t.m(a.parentNode,a)))},i:G,o:G,d(s){t.d(s),s&&u(a)}}}async function wt({session:i}){return i.jwt?{status:302,redirect:"/"}:{}}function mt(i,a,l){let r;at(i,Z,d=>l(7,r=d));let t="",s="",n=!1;async function _(d){l(2,n=!0);const y=await nt("auth/login",{email:t,password:s});y.user&&(st(Z,r.user=y.user,r),ut("/dashboard"))}function x(){t=this.value,l(0,t)}function I(){s=this.value,l(1,s)}return[t,s,n,_,x,I]}class gt extends ${constructor(a){super();tt(this,a,mt,ft,et,{})}}export{gt as default,wt as load};
